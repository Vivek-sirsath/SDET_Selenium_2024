TestNG : Test Next Generation
- Unit testing tool based in Java.

Advantages:
----------
1) We can manage test cases and test suites using testNG
2) Grouping of test cases
3) Prioritize test cases
4) Data Parameterization
5) Parallel testing
6) Report generation

TestNG configuration:
--------------------
To check whether TestNG is already installed or not?
Open Eclipse > Window > Preferences
> See if the TestNG is present or not in the preferences.
> If its there, then we've already installed the  TestNG Eclipse plug-in

To install TestNG plug-in: 
--------------------------
Open Eclipse > Help > Eclipse Marketplace (For external / third party plug-ins)
> Search 'testNG' > Click on 'GO' > select 'TestNG for Eclipse' from results
> Click on 'Install' > Click on 'Confirm' button
> Accept 'Terms and License Agreement' > Click on 'Finish'
> 'Trust Authorities' window will open > Click on 'Select All' button > Click on 'Trust Selected'
> 'Trust Artifacts' window opens > Select all CheckBoxes > Click on 'Yes, I accept the risk'
> It will ask to restart Eclipse > Click on 'Restart Now'
---------------------------------------------------------
> Check if the TestNG is installed or not?
  Eclipse > Window > Preferences > Check for TestNG

======> [NOTE: Installation of TestNG plug-in from Eclipse Marketplace
         is mandatory before adding the TestNG library in to the project] <=======

  
To add TestNG library to the project.

1st WAY :-
----------  
# Until now, we just installed the TestNG > We've to add the TestNG library to the project
  We've to configure the project with TestNG.
  Currently the project is configured with Maven and Java.
  
> Right click on Project > Properties > Java Build Path > Libraries Tab > Click on 'Add Library' button
  Select 'TestNG' from the list of libraries > Next > Finish > Click on 'Apply and Close'  

2nd WAY :-
----------
By adding the dependency of TestNG in 'POM.xml'


--------------------------------------------------
********************  TestNG  ********************
--------------------------------------------------

1) TestNG executes the test methods in alphabetical order.
2) @Test(priority=xx) controls the order of test execution.
3) There is no need to follow sequential / consecutive numbers for priority.
   e.g. 1, 2, 3, 4, ...     We can use      56, 20,72...
   whichever is lowest, executes first and then in ascending order.
4) If we don't specify any priority, then default value is zero '0' 
   It will executes first.
5) If the priority numbers are same, then TestNG will execute test cases in alphabetical order.
6) Negative numbers are also allowed in priority.  e.g. -2,-1, 0, 2, 3 
 

----------------------------------------------------------
******************** TestNG XML file  ********************
----------------------------------------------------------

# Execution of test cases using 'testng.xml' file :-
- XML file is also called as 'Test Suite'
- Test Suite is a group of test cases.
- Test Suite --> contains Test Cases --> contains Test Steps.
  XML file --> contains Test Classes --> contains Test Methods which implements Test Steps.
  
Hierarchy of Tags :-
-----------------    

Suite
   Test
      Class
         Method
         
 - @BeforeMethod @AfterMethod  : will execute at method level.
    - @BeforeClass @AfterClass  : will execute at class level. 
       - @BeforeTest @AfterTest  : will execute at test level. 
          - @BeforeSuite @AfterSuite  : will execute at suite level. 

testng.xml file can be generated by 2 ways-
1) Automatically (Right click on package/class > convert to testNG)
2) Manually

Benefits of execution using 'testng.xml' file :-
1) We can control the execution as per Classes, Methods.
2) We can able to run multiple test cases at one shot.
 

--> Q. How to create testng.xml file?
-------------------------------
# 1st WAY: Automatically
---------------------
> Right click on class or package > TestNG > Convert to TestNG
> Creates the 'testng.xml' file at project level
> We can customize the location while creating 'textng.xml' file

# 2nd WAY: Manually
-----------------
> Right click on package > New > File > File Name: mytestng.xml > Click on finish
> Copy - Paste first 2 lines, which are common for all 'testng.xml' files

             <?xml version="1.0" encoding="UTF-8"?>
             <!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">
             
> Create suite , test , classes tags in this order 
> put the class inside classes tag with class attribute.
> In 'testNG.xml' file, Test is the collection of classes

e.g.
             <suite name="Suite">
                 <test thread-count="5" name="Test">
                     <classes>
                        <class name=".TestNG_Annotations"/>
                     </classes>
                 </test> <!-- Test -->
             </suite> <!-- Suite -->



### If unable to create XML file, if there are some issues while writing the XML code.
---------------------------------------------------------------------------------------
Go to Eclipse Marketplace > search for 'XML Editor' plug-in
> select from list 'Eclipse XML Editors and Tools 3.32' > Install


--> Q. If 'testng.xml' file is generates automatically, then why we should generate it manually?
--------------------------------------------------------------------------------------------
- If XML file is get generated automatically then by default it will have some basic tags
  suit, test, classes etc. 
  But, later we need to add some other tags also, like listener, groups 

-------------------------------------------------------------
******************** TestNG Annotations  ********************
-------------------------------------------------------------

TestNG annotations executes in the same logical order.
Execution order :- S T C M 

@BeforeSuite

   @BeforeTest
   
      @BeforeClass
      
         @BeforeMethod
         
            @Test
            
         @AfterMethod
         
      @AfterClass
      
   @AfterTest
   
@AfterSuite

===========================================================================

@BeforeMethod
@AfterMethod

BeforeMethod - Will executes multiple times before each and every test method
AfterMethod - Will executes multiple times after each and every test method

===========================================================================

@BeforeTest
@AfterTest

BeforeTest - Will executes once before all test method execution
AfterTest - Will executes once after all test method execution

<classes>
      <class name="testNGBeforeTestAfterTest.C2"/>
      <class name="testNGBeforeTestAfterTest.C1"/>
</classes>

- testng.xml > Run as TestNG Suite 
 
- Classes will execute as per sequence in testng.xml
  e.g.
       First C2 will execute , then C1

<classes>
      <class name="testNGBeforeTestAfterTest.C1"/>
      <class name="testNGBeforeTestAfterTest.C2"/>
</classes>

 e.g.
       First C1 will execute , then C2
-----------------------------------------------------------------------

------------------------------------------------------------
******************** TestNG Assertions  ********************
------------------------------------------------------------

Q. Why we use Assertions?

# The assertion should be used at the end of the test case.
# It should be the last step in the testMethod.
# Problem with conditional statements. To overcome the problem we use assertions.

String exp_title = "Opencart";
String actual_title = "Openshop";

1) If compare by if-else

   test failed...
   PASSED: testTitle

2) If compare by Assertions 
   Assert.assertEquals(actual_title, exp_title);

   FAILED: testTitle
----------------------------------------------------------------------------------------------

1) Assert.assertTrue(true);
   - Expecting true and passing true
2) Assert.assertTrue(false);   
   - Expecting true but passing false
----------------------------------------------------------------------------------------------

Types of assertions -

1) Hard Assertions :- The assertions which comes under Assert Class are Hard Assertions.
   ---------------
     1) Assert.assertEquals("Actual", "Expected");
     2) Assert.assertEquals("xyz", "xyz"); // PASSED: testMethod
     3) Assert.assertEquals("xyz", "xyz1"); // FAILED: testMethod
     4) Assert.assertEquals(123, 456); // FAILED: testMethod
     5) Assert.assertEquals("123", 123); // FAILED: testMethod
     6) Assert.assertNotEquals(123, 123); // FAILED: testMethod
     7) Assert.assertNotEquals("Jalgaon", "jlgaon"); //PASSED: testMethod
     8) Assert.assertTrue(true); // PASSED: testMethod
     9) Assert.assertTrue(false); // FAILED: testMethod
     10) Assert.assertTrue(1==2); // FAILED: testMethod
     11) Assert.assertTrue(1==1); // PASSED: testMethod
     12) Assert.assertFalse(1==2); // PASSED: testMethod
     13) Assert.assertFalse(1==1); // FAILED: testMethod
     14) Assert.fail(); // FAILED: testMethod
--------------------------------------------------------------------------------------------------

2) Soft Assertions :-
   ---------------
   # Problem with Hard Assertions. Then we use Soft Assertions.
   # When the Hard Assertion fails, the program execution stops. 
     If we still want to continue the execution then we prefer Soft Assertions.
     Even if Soft Assertion fails, rest of the statements still executes.
   # SoftAssert class will be used for assertion.
   # In Hard Assertion, the assertion methods are static.
     So we can use them by using class name 'Assert'
     i.e. Assert.assertEquals()
   # In Soft Assertion, the methods are not static.
     Hence we have to create an object of 'SoftAssert' class.
     
     SoftAssert sa = new SoftAssert(); 
     sa.assertEquals(Actual, Expected); 
     
     - This gives in console - PASSED: test_SoftAssertion
     
     At the end of soft assert, to get the exact result, it is mandatory to use,
     sa.assertAll();
     
     - This gives in console - FAILED: test_SoftAssertion

--------------------------------------------------------------------------------------

------------------------------------------------------------
******************** TestNG Dependency  ********************
------------------------------------------------------------

dependsOnMethods :-

The method which depends on parent method, if parent method fails, then the dependent method get skipped.

STNTAX : 
         dependsOnMethods = {"Method1 Name, Method2 Name, ..."}


------------------------------------------------------------
******************** TestNG Grouping  ********************
------------------------------------------------------------

# Execution of test cases by grouping is only possible through 'testng.xml' file.

SYNTAX : 
         groups = {"sanity"}
         groups = {"regression"}
         groups = {"sanity", "regression", "functional"}

[We can include or exclude in XML FILE according to our requirement]

XML file :-

<suite name="GroupingSuite">
	<test thread-count="5" name="GroupingTest">
		<classes>

			<groups>
				<run>
					<include name="functional" />
					<!-- include name="sanity" / -->
					<!-- exclude name="regression" / -->
				</run>
			</groups>

			<class name="testNG_Grouping.PaymentTest" />
			<class name="testNG_Grouping.SignUpTest" />
			<class name="testNG_Grouping.LoginTest" />

		</classes>
	</test> <!-- GroupingTest -->
</suite> <!-- GroupingSuite -->


------------------------------------------------------------------
******************** TestNG Parameterization  ********************
------------------------------------------------------------------

Parameterization can be done by 2 ways - 

1) Using '@DataProvider' annotation - Data Driven Testing
2) Using 'testng.xml' file - Parallel Testing

1) @DataProvider :-

Advantages:
i) Without looping statement we can provide data to the Test Method 















